# サーバーレスを活用したイベント駆動アーキテクチャ(AWS-45)

日時：2022/05/26  12:30 〜 13:00
資料：[AWS-45_EventDrivenArchitecture_with_+Serverless_Services_KMD37-KMD38.pdf](https://contents-s3-bucket.s3.ap-northeast-1.amazonaws.com/documents/aws/202205_AWS_SUMMIT_JAPAN_2022/AWS-45_EventDrivenArchitecture_with_%2BServerless_Services_KMD37-KMD38.pdf)

<br>

## イノベーションとマイクロサービス

モノリスとマイクロサービス
    - モノリス：全てを実行
    - 全てを同期的に実行すると一つのシステムでエラーが発生すると全体に影響する
    - アプリケーションが肥大化する
    - 密結合であるためスケールアウトに弱い
- マイクロサービス：各々がひとつのことを実行

<br>

## イベント駆動アーキテクチャ

イベントとは
- 状態が変更されたことを示すシグナル
- 送信先へ変更の指示は行わない（疎結合）
- 実行結果を受け取らない（非同期処理）
- イミュータブル（コピーすることが容易でスケールが可能）

<br>

## イベント工藤での連携要素

イベントルーター
- プロデューサーとコンシューマーを抽象化
- イベントの選択/フィルタリングを実施
- AWSのマネージドサービス
    - SNS：高スループット/低レイテンシー、高いファンアウト
    - EventBridge：AWSサービス連携

イベントストア
- SQS：メッセージ毎の処理、軽量なメッセージ
- Kinesis Data Streams：大量のデータ処理、データの同時/複雑な処理
- イベントルーターの後段にイベントストアを置いて組み合わせて使う

<br>

## イベント駆動アーキテクチャ設計時の考慮ポイント

詳しく検討が必要
- ダウンストリームの冪等性
- 重複排除
- 順序保証